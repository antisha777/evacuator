document.addEventListener("DOMContentLoaded",function(){function t(e){var t,e=document.getElementById(e);e&&(t=document.querySelector(".header").offsetHeight,e=e.getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:e,behavior:"smooth"}))}function e(){var e=document.querySelectorAll("section[id], footer[id]"),t=document.querySelectorAll(".header__nav-link"),o=document.querySelectorAll(".footer__nav-link"),n=document.querySelector(".header").offsetHeight;let c="",l=window.scrollY+n+50;e.forEach(e=>{var t=e.offsetTop,o=e.clientHeight,e=e.getAttribute("id");l>=t&&l<t+o&&(c=e)}),t.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+c&&e.classList.add("active")}),o.forEach(e=>{e.classList.remove("active"),e.getAttribute("href")==="#"+c&&e.classList.add("active")}),window.scrollY<100&&(t.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")))}document.querySelectorAll(".header__nav-link").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),t(this.getAttribute("href").substring(1))})});document.querySelectorAll(".footer__nav-link").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),t(this.getAttribute("href").substring(1))})});var n=document.querySelector(".hero__prices-link");n&&n.addEventListener("click",function(e){e.preventDefault(),t("prices")});document.querySelectorAll(".price-card__button").forEach(e=>{e.addEventListener("click",function(){t("contacts")})});n=document.querySelector(".hero__button"),n&&n.addEventListener("click",function(){t("contacts")}),n=document.querySelector(".header__logo-link"),n&&n.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}),n=document.querySelector(".footer__logo-link");n&&n.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});{let t=document.getElementById("callbackModal"),c=(n=document.getElementById("closeModal"),document.getElementById("callbackForm"));function l(){t&&(t.classList.remove("active"),document.body.style.overflow="")}document.querySelectorAll(".price-card__button, .hero__button").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),t&&(t.classList.add("active"),document.body.style.overflow="hidden")})}),n&&n.addEventListener("click",l),t&&t.addEventListener("click",function(e){e.target!==t&&!e.target.classList.contains("modal__overlay")||l()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t&&t.classList.contains("active")&&l()}),c&&c.addEventListener("submit",function(e){e.preventDefault();let t=this.querySelector('button[type="submit"]'),o=t.querySelector(".button__text"),n=t.querySelector(".button__loader");t.disabled=!0,o.style.display="none",n.style.display="inline-block",setTimeout(()=>{t.disabled=!1,o.style.display="inline-block",n.style.display="none",alert("–°–ø–∞—Å–∏–±–æ! –ú—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç!"),l(),c.reset(),console.log("üìû –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞")},2e3)}),(n=document.getElementById("userPhone"))&&n.addEventListener("input",function(e){var t=e.target.value.replace(/\D/g,"");0===t.length?e.target.value="":t.length<=1?e.target.value="+7 ("+t:t.length<=4?e.target.value="+7 ("+t.substring(1,4):t.length<=7?e.target.value="+7 ("+t.substring(1,4)+") "+t.substring(4,7):t.length<=9?e.target.value="+7 ("+t.substring(1,4)+") "+t.substring(4,7)+"-"+t.substring(7,9):e.target.value="+7 ("+t.substring(1,4)+") "+t.substring(4,7)+"-"+t.substring(7,9)+"-"+t.substring(9,11)})}{let t=document.getElementById("privacyModal"),o=document.getElementById("consentModal");window.openPrivacyModal=function(){t&&(t.classList.add("active"),document.body.style.overflow="hidden")},window.openConsentModal=function(){o&&(o.classList.add("active"),document.body.style.overflow="hidden")},window.closePrivacyModal=function(){t&&(t.classList.remove("active"),document.body.style.overflow="")},window.closeConsentModal=function(){o&&(o.classList.remove("active"),document.body.style.overflow="")};var n=document.querySelectorAll('a[href="#privacy"]'),c=document.querySelectorAll('a[href="#consent"]');n.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),openPrivacyModal()})}),c.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),openConsentModal()})}),[t,o].forEach(t=>{t&&t.addEventListener("click",function(e){e.target!==t&&!e.target.classList.contains("modal__overlay")||("privacyModal"===t.id&&closePrivacyModal(),"consentModal"!==t.id)||closeConsentModal()})}),document.addEventListener("keydown",function(e){"Escape"===e.key&&(t&&t.classList.contains("active")&&closePrivacyModal(),o)&&o.classList.contains("active")&&closeConsentModal()})}{let e=document.getElementById("cookiesBanner");n=document.getElementById("acceptCookies"),!localStorage.getItem("cookiesAccepted")&&e&&setTimeout(()=>{e.classList.add("active")},1e3),n&&n.addEventListener("click",function(){localStorage.setItem("cookiesAccepted","true"),e&&(e.classList.remove("active"),setTimeout(()=>{e.style.display="none"},300)),console.log("üç™ Cookies accepted")}),(n=document.querySelector(".cookies-banner__link"))&&n.addEventListener("click",function(e){e.preventDefault(),t("contacts")})}e(),window.addEventListener("scroll",e),console.log("üöó Evacuator JS loaded successfully!")});